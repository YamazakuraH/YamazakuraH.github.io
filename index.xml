<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>169163&#39;s blog</title>
        <link>https://blog.169163.xyz/</link>
        <description>Recent content on 169163&#39;s blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Mon, 22 Feb 2021 14:14:41 +0900</lastBuildDate><atom:link href="https://blog.169163.xyz/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>在Euserv上部署GoneList并使用Argo tunnel</title>
        <link>https://blog.169163.xyz/p/gonelist-only-ipv6-argo/</link>
        <pubDate>Mon, 22 Feb 2021 14:14:41 +0900</pubDate>
        
        <guid>https://blog.169163.xyz/p/gonelist-only-ipv6-argo/</guid>
        <description>&lt;img src="https://blog.169163.xyz/p/gonelist-only-ipv6-argo/cover.jpg" alt="Featured image of post 在Euserv上部署GoneList并使用Argo tunnel" /&gt;&lt;h6 id=&#34;186指导&#34;&gt;186指导&lt;/h6&gt;
&lt;p&gt;如何安装Argo Tunnel可以参考 &lt;strong&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.186526.xyz/post/argo-tunnel-for-free/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;这里&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;上面的教程已经教你如何使用Cloudflared了，下面直入正题，安装&lt;a class=&#34;link&#34; href=&#34;https://github.com/gonelist/gonelist/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gonelist&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;第一步&#34;&gt;第一步&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;在 &lt;a class=&#34;link&#34; href=&#34;https://github.com/cugxuan/gonelist/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub Release&lt;/a&gt; 下载相应构架的压缩包&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;第二步&#34;&gt;第二步&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;下载完成后解压出来后文件夹名就是gonelist_系统_构架&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;第三步&#34;&gt;第三步&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;比如我下载的是linux_amd64，下面就要输入&lt;code&gt;cd gonelist_linux_arm64&lt;/code&gt;然后再输入&lt;code&gt;./gonelist_linux_amd64&lt;/code&gt;Gonelist就会运行在8000端口&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;第四步&#34;&gt;第四步&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;可以使用nohup来守护进程，想结束进程可以使用&lt;code&gt;ps -ef | grep go&lt;/code&gt;来查找进程号&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;进阶玩法&#34;&gt;进阶玩法&lt;/h4&gt;
&lt;h5 id=&#34;使用systemd守护进程&#34;&gt;&lt;strong&gt;使用systemd守护进程&lt;/strong&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;下载这个&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/gonelist/gonelist/master/scripts/install-release.sh&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;脚本&lt;/a&gt;&lt;br&gt;
运行他 &lt;code&gt;bash install-release.sh -l gonelist_系统_构架.tar.gz&lt;/code&gt;&lt;br&gt;
这样就能用systemd守护进程辣&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;systemctl start gonelist&lt;br&gt;
systemctl stop gonelist&lt;br&gt;
systemctl status gonelist&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ps.使用脚本安装后配置文件在&lt;code&gt;/etc/gonelist/&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;配置configjson&#34;&gt;&lt;strong&gt;配置config.json&lt;/strong&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;申请&lt;code&gt;client_id&lt;/code&gt;和&lt;code&gt;client_secret&lt;/code&gt;的教程一抓一大把就不说了。&lt;br&gt;
主要修改的就是&lt;code&gt;redirect_url&lt;/code&gt;和&lt;code&gt;site_url&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;redirect_url&lt;/code&gt;修改为&lt;code&gt;http://yourdomain:8000/auth&lt;/code&gt;&lt;br&gt;
&lt;code&gt;site_url&lt;/code&gt;修改为&lt;code&gt;http://yourdomain:8000/&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;世纪互联&#34;&gt;&lt;strong&gt;世纪互联&lt;/strong&gt;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;我没有世纪互联账号，所以我不确定能不能用。&lt;br&gt;
在&lt;code&gt;config.json&lt;/code&gt;中有一段&lt;code&gt;china_cloud&lt;/code&gt;&lt;br&gt;
将&lt;code&gt;enable&lt;/code&gt;的值改为&lt;code&gt;true&lt;/code&gt;&lt;br&gt;
&lt;code&gt;client_id&lt;/code&gt;和&lt;code&gt;client_secret&lt;/code&gt;我也不说了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;argo-tunnel启动&#34;&gt;Argo Tunnel启动！&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;cloudflared tunnel --hostname yourdomain.com --url localhost:8000 --name 自己写个名
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;可以用screen防止关闭ssh就白给的情况&#34;&gt;&lt;strong&gt;可以用screen防止关闭ssh就白给的情况&lt;/strong&gt;&lt;/h1&gt;
&lt;h1 id=&#34;示例站点httpscloud169163xyz&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://cloud.169163.xyz&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;示例站点&lt;/a&gt;&lt;/h1&gt;
</description>
        </item>
        <item>
        <title>如何搭建一个Onemanager</title>
        <link>https://blog.169163.xyz/p/create-onemanager/</link>
        <pubDate>Mon, 22 Feb 2021 12:45:34 +0900</pubDate>
        
        <guid>https://blog.169163.xyz/p/create-onemanager/</guid>
        <description>&lt;img src="https://blog.169163.xyz/p/create-onemanager/cover.jpg" alt="Featured image of post 如何搭建一个Onemanager" /&gt;&lt;h3 id=&#34;osdebian10&#34;&gt;OS：Debian10&lt;/h3&gt;
&lt;h4 id=&#34;咱打算直接照抄186的onemanager-flyio&#34;&gt;咱打算直接照抄186的Onemanager-Flyio&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;啥也不说了，直接进入主题。&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;安装需要的程序&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;sudo apt-get install --no-install-recommends ca-certificates gnupg2 gettext-base lsb-base lsb-release software-properties-common wget -y
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;安装openresty&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;wget -O - https://openresty.org/package/pubkey.gpg | sudo apt-key add -
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;sudo add-apt-repository -y &amp;quot;deb http://openresty.org/package/debian $(lsb_release -sc) openresty&amp;quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;sudo apt-get install --no-install-recommends openresty -y
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;安装Php&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;sudo apt-get install --no-install-recommends php-bcmath php-curl php-cli php-fpm  php-gd php-json php-mbstring php-mysql php-pdo php-pear php-xml php-zip -y
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;mkdir /run/php/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;下载Onemanager&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;wget https://git.qvqaq.ml/186526/OneManager-php/archive/master.tar.gz -P /www/
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;cd /www/ &amp;amp;&amp;amp; tar xvf master.tar.gz &amp;amp;&amp;amp; rm -rf master.tar.gz &amp;amp;&amp;amp; chmod -R 777 onemanager-php
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;配置openresty&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;将 /usr/local/openresty/nginx/conf/nginx.conf 中的server段注释掉  
gzip on; 取消注释  
在 gzip on; 下面添加include /etc/nginx/conf.d/*.conf;  
在 /etc/nginx/conf.d/ 下创建网站conf  
如果出现502错误尝试在 /usr/local/openresty/nginx/conf/nginx.conf 中修改 user （方法不止一种，这只是最简单的一个。）
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;Nginx配置参考&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;server {
        listen 80;
        server_name yourdomain.com; #这里改成你自己的域名
        index index.php;
        root /www/onemanager-php/; #根据实际情况填写
        rewrite ^/(?!.well-known)(.*)$ /index.php?/$1 last;
        location ~ \.php$ {
            fastcgi_pass   unix:/run/php/php7.3-fpm.sock; #根据你的版本
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
            include        fastcgi_params;
        }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;示例站点httpspan169163xyz&#34;&gt;&lt;a class=&#34;link&#34; href=&#34;https://pan.169163.xyz/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;示例站点&lt;/a&gt;&lt;/h1&gt;
</description>
        </item>
        <item>
        <title>没有色图的世界</title>
        <link>https://blog.169163.xyz/p/no-porn/</link>
        <pubDate>Sun, 21 Feb 2021 11:30:55 +0900</pubDate>
        
        <guid>https://blog.169163.xyz/p/no-porn/</guid>
        <description>&lt;img src="https://blog.169163.xyz/p/no-porn/cover.jpg" alt="Featured image of post 没有色图的世界" /&gt;&lt;p&gt;&lt;figure style=&#34;flex-grow: 138; flex-basis: 333px&#34;&gt;
		&lt;a href=&#34;https://blog.169163.xyz/p/no-porn/1.jpg&#34; data-size=&#34;1636x1177&#34;&gt;&lt;img src=&#34;https://blog.169163.xyz/p/no-porn/1.jpg&#34;
				srcset=&#34;https://blog.169163.xyz/p/no-porn/1_hu6ea124e115cb25475d52a8da77bfb5cb_336571_480x0_resize_q75_box.jpg 480w, https://blog.169163.xyz/p/no-porn/1_hu6ea124e115cb25475d52a8da77bfb5cb_336571_1024x0_resize_q75_box.jpg 1024w&#34;
				width=&#34;1636&#34;
				height=&#34;1177&#34;
				loading=&#34;lazy&#34;
				alt=&#34;胡桃&#34;&gt;
		&lt;/a&gt;
		
		&lt;figcaption&gt;胡桃&lt;/figcaption&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure style=&#34;flex-grow: 108; flex-basis: 259px&#34;&gt;
		&lt;a href=&#34;https://blog.169163.xyz/p/no-porn/2.jpg&#34; data-size=&#34;584x540&#34;&gt;&lt;img src=&#34;https://blog.169163.xyz/p/no-porn/2.jpg&#34;
				srcset=&#34;https://blog.169163.xyz/p/no-porn/2_hu35fc135fcb7226a319235b65842609f3_44978_480x0_resize_q75_box.jpg 480w, https://blog.169163.xyz/p/no-porn/2_hu35fc135fcb7226a319235b65842609f3_44978_1024x0_resize_q75_box.jpg 1024w&#34;
				width=&#34;584&#34;
				height=&#34;540&#34;
				loading=&#34;lazy&#34;
				alt=&#34;新仓绫音&#34;&gt;
		&lt;/a&gt;
		
		&lt;figcaption&gt;新仓绫音&lt;/figcaption&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Hello World</title>
        <link>https://blog.169163.xyz/p/hello-world/</link>
        <pubDate>Sun, 21 Feb 2021 10:12:41 +0900</pubDate>
        
        <guid>https://blog.169163.xyz/p/hello-world/</guid>
        <description>&lt;img src="https://blog.169163.xyz/p/hello-world/cover.jpg" alt="Featured image of post Hello World" /&gt;&lt;h1 id=&#34;hello-world&#34;&gt;Hello World！&lt;/h1&gt;
&lt;p&gt;&lt;figure style=&#34;flex-grow: 231; flex-basis: 555px&#34;&gt;
		&lt;a href=&#34;https://blog.169163.xyz/p/hello-world/1.jpg&#34; data-size=&#34;1836x793&#34;&gt;&lt;img src=&#34;https://blog.169163.xyz/p/hello-world/1.jpg&#34;
				srcset=&#34;https://blog.169163.xyz/p/hello-world/1_hua82d034175dab4375ca0a522441363dc_286267_480x0_resize_q75_box.jpg 480w, https://blog.169163.xyz/p/hello-world/1_hua82d034175dab4375ca0a522441363dc_286267_1024x0_resize_q75_box.jpg 1024w&#34;
				width=&#34;1836&#34;
				height=&#34;793&#34;
				loading=&#34;lazy&#34;
				alt=&#34;图&#34;&gt;
		&lt;/a&gt;
		
		&lt;figcaption&gt;图&lt;/figcaption&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure style=&#34;flex-grow: 177; flex-basis: 426px&#34;&gt;
		&lt;a href=&#34;https://blog.169163.xyz/p/hello-world/2.jpg&#34; data-size=&#34;1920x1080&#34;&gt;&lt;img src=&#34;https://blog.169163.xyz/p/hello-world/2.jpg&#34;
				srcset=&#34;https://blog.169163.xyz/p/hello-world/2_huabd7de1a0881815024be73cb2667c4cb_218116_480x0_resize_q75_box.jpg 480w, https://blog.169163.xyz/p/hello-world/2_huabd7de1a0881815024be73cb2667c4cb_218116_1024x0_resize_q75_box.jpg 1024w&#34;
				width=&#34;1920&#34;
				height=&#34;1080&#34;
				loading=&#34;lazy&#34;
				alt=&#34;图&#34;&gt;
		&lt;/a&gt;
		
		&lt;figcaption&gt;图&lt;/figcaption&gt;
		
	&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
